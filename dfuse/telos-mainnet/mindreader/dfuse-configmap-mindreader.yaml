apiVersion: v1
kind: ConfigMap
metadata:
  name: telos-mainnet-mindreader
  namespace: dfuse
  labels:
    app: dfuse
    env: telos-mainnet
data:
  mindreader.yaml: |
    start:
      args:
      - mindreader
      flags:
        log-to-file: true
        common-blocks-store-url: gs://telos-mainnet/merged
        common-exclude-filter-expr: (account == 'richrichcoin' || receiver == 'richrichcoin' || (account == 'eosio.token' && (data.to == 'richrichcoin' || data.from == 'richrichcoin'))) || (account == 'nebulatpstps' || receiver == 'nebulatpstps' || (account == 'eosio.token' && (data.to == 'nebulatpstps' || data.from == 'nebulatpstps'))) || (account == 'fullblasting' || receiver == 'fullblasting' || (account == 'eosio.token' && (data.to == 'fullblasting' || data.from == 'fullblasting')))
        mindreader-manager-api-addr: :8080
        mindreader-nodeos-api-addr: localhost:8888
        mindreader-config-dir: /config
        mindreader-readiness-max-latency: 5s
        mindreader-snapshot-store-url: ./snapshots
        mindreader-start-failure-handler: false
        mindreader-log-to-zap: true
        mindreader-shutdown-delay: 20s
        mindreader-start-block-num: 1
